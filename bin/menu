#!/bin/env bash

if [ -n "$WAYLAND_DISPLAY" ]; then
    if [[ "$1" == "run" || "$1" == "r" ]]; then
        tofi-drun | bash
    elif [[ "$1" == "hist" || "$1" == "h" ]]; then
        cliphist list | tofi | cliphist decode | wl-copy
    elif [[ "$1" == "emote" || "$1" == "e" ]]; then
        /bin/cat ~/.config/tofi/emotes ~/.config/tofi/nerdfont | tofi | cut -d ' ' -f 1 | tr -d '\n' | wl-copy
    else
        tofi
    fi
else
    if [[ "$1" == "run" || "$1" == "r" ]]; then
        dmenu_run
    elif [[ "$1" == "hist" || "$1" == "h" ]]; then
        cliphist list | dmenu | cliphist decode | xclip -selection clipboard
    elif [[ "$1" == "emote" || "$1" == "e" ]]; then
        /bin/cat ~/.config/tofi/nerdfont ~/.config/tofi/emotes | dmenu | cut -d ' ' -f 1 | tr -d '\n' | xclip -selection clipboard
    else
        dmenu
    fi
fi


