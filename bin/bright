#!/bin/env bash

current_brightness=$(brightnessctl info | awk '/Current brightness:/ {print $4}' | tr -d '()%')
delta=$(echo "scale=1; $current_brightness * 0.25" | bc -l)

(( $(bc -l <<< "$delta < 1") )) && delta=$(echo "1" | bc)

case "$1" in
    "+") brightnessctl set +${delta}% ;;
    "-") (( $(bc -l <<< "$current_brightness <= 1") )) || brightnessctl set ${delta}%- ;;
esac
